<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width">
        <style>
            section {
              background: #e5e5e5;
            }

            img {
              width: 100%;
              height: auto;
            }
        </style>
        <link rel="shortcut icon" href="{{ url_for('static', filename='images/favicon_static/favicon.ico') }}" type="image/x-icon">

    </head>
    <body>
    <section>
      <img src="{{ url_for('static', filename='images/slides_wide/slides_wide.001.jpg') }}" />
    </section>

    <section>
      <img src="{{ url_for('static', filename='images/slides_wide/slides_wide.002.jpg') }}" />
    </section>

    <section>
      <img src="{{ url_for('static', filename='images/slides_wide/slides_wide.003.jpg') }}" />
    </section>

    <section>
      <img src="{{ url_for('static', filename='images/slides_wide/slides_wide.004.jpg') }}" />
    </section>

    <section>
      <img src="{{ url_for('static', filename='images/slides_wide/slides_wide.005.jpg') }}" />
    </section>

    <section>
      <img src="{{ url_for('static', filename='images/slides_wide/slides_wide.006.jpg') }}" />
    </section>

    <section>
      <img src="{{ url_for('static', filename='images/slides_wide/slides_wide.007.jpg') }}" />
    </section>

<!-- 
    <section>
      <img src="{{ url_for('static', filename='images/slides_wide/slides_wide.008.jpg') }}" />
    </section>
 -->
<!-- 
    <section>
      <img src="{{ url_for('static', filename='images/slides_wide/slides_wide.009.jpg') }}" />
    </section>
 -->
    <script src="{{ url_for('static', filename='js/d3.v3.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/stack.v1.min.js') }}"></script>
    <script>

    var mystack = stack()
        .on("activate", activate)
        .on("deactivate", deactivate);

    var section = d3.selectAll("section"),
        follow = d3.select("#follow"),
        followAnchor = d3.select("#follow-anchor"),
        lorenz = d3.select("#lorenz"),
        followIndex = section[0].indexOf(follow.node()),
        lorenzIndex = section[0].indexOf(lorenz.node());

    function refollow() {
      followAnchor.style("top", (followIndex + (1 - mystack.scrollRatio()) / 2 - d3.event.offset) * 100 + "%");
    }

    function activate(d, i) {
      if (i === followIndex) mystack.on("scroll.follow", refollow);
      if (i === lorenzIndex) startLorenz();
    }

    function deactivate(d, i) {
      if (i === followIndex) mystack.on("scroll.follow", null);
      if (i === lorenzIndex) stopLorenz();
    }

        </script>
    </body>
</html>
